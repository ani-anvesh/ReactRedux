{"ast":null,"code":"if (localStorage.getItem(\"employeeList\") == null) localStorage.setItem(\"employeeList\", JSON.stringify([]));\nlet initialState = {\n  currentIndex: -1,\n  list: JSON.parse(localStorage.getItem(\"employeeList\"))\n};\n\nconst EmployeesReducer = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  var list = JSON.parse(localStorage.getItem(\"employeeList\"));\n  /* switch (type) {\n    case \"CREATE_EMPLOYEE\":\n      state = localStorage.setItem(\"emploeeList\", [\n        {\n          id: createRandomString(16),\n          empName: payload.empName,\n          empRole: payload.empRole,\n        },\n      ]);\n     case \"DELETE_EMPLOYEE\":\n      const copyState = [...state];\n      //Find id of object to remove\n      const i = copyState.findIndex((x) => x.id === payload.id);\n      copyState.splice(i, 1);\n      return [...copyState];\n    default:\n      return state;\n  } */\n\n  switch (type) {\n    case \"CREATE_EMPLOYEE\":\n      list.push(payload);\n      localStorage.setItem(\"employeeList\", JSON.stringify(list));\n      return {\n        list,\n        currentIndex: -1\n      };\n\n    case \"UPDATE\":\n      list[state.currentIndex] = action.payload;\n      localStorage.setItem(\"transactions\", JSON.stringify(list));\n      return {\n        list,\n        currentIndex: -1\n      };\n\n    case \"UPDATE-INDEX\":\n      return {\n        list,\n        currentIndex: action.payload\n      };\n\n    case \"DELETE_EMPLOYEE\":\n      const copyState = [...list];\n      const i = copyState.findIndex(x => x.id === payload.id);\n      copyState.splice(i, 1);\n      localStorage.setItem(\"employeeList\", JSON.stringify(copyState));\n      return {\n        copyState,\n        currentIndex: -1\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default EmployeesReducer;","map":{"version":3,"sources":["C:/Users/R.Anvesh Reddy/Desktop/web/Anvesh/happy/src/reducers/EmployeesReducer.js"],"names":["localStorage","getItem","setItem","JSON","stringify","initialState","currentIndex","list","parse","EmployeesReducer","state","action","type","payload","push","copyState","i","findIndex","x","id","splice"],"mappings":"AAAA,IAAIA,YAAY,CAACC,OAAb,CAAqB,cAArB,KAAwC,IAA5C,EACED,YAAY,CAACE,OAAb,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAe,EAAf,CAArC;AACF,IAAIC,YAAY,GAAG;AACjBC,EAAAA,YAAY,EAAE,CAAC,CADE;AAEjBC,EAAAA,IAAI,EAAEJ,IAAI,CAACK,KAAL,CAAWR,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX;AAFW,CAAnB;;AAKA,MAAMQ,gBAAgB,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AACzD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;AACA,MAAIJ,IAAI,GAAGJ,IAAI,CAACK,KAAL,CAAWR,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAAX;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE,UAAQW,IAAR;AACE,SAAK,iBAAL;AACEL,MAAAA,IAAI,CAACO,IAAL,CAAUD,OAAV;AACAb,MAAAA,YAAY,CAACE,OAAb,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeG,IAAf,CAArC;AACA,aAAO;AAAEA,QAAAA,IAAF;AAAQD,QAAAA,YAAY,EAAE,CAAC;AAAvB,OAAP;;AAEF,SAAK,QAAL;AACEC,MAAAA,IAAI,CAACG,KAAK,CAACJ,YAAP,CAAJ,GAA2BK,MAAM,CAACE,OAAlC;AACAb,MAAAA,YAAY,CAACE,OAAb,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeG,IAAf,CAArC;AACA,aAAO;AAAEA,QAAAA,IAAF;AAAQD,QAAAA,YAAY,EAAE,CAAC;AAAvB,OAAP;;AAEF,SAAK,cAAL;AACE,aAAO;AAAEC,QAAAA,IAAF;AAAQD,QAAAA,YAAY,EAAEK,MAAM,CAACE;AAA7B,OAAP;;AAEF,SAAK,iBAAL;AACE,YAAME,SAAS,GAAG,CAAC,GAAGR,IAAJ,CAAlB;AACA,YAAMS,CAAC,GAAGD,SAAS,CAACE,SAAV,CAAqBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAA5C,CAAV;AACAJ,MAAAA,SAAS,CAACK,MAAV,CAAiBJ,CAAjB,EAAoB,CAApB;AACAhB,MAAAA,YAAY,CAACE,OAAb,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeW,SAAf,CAArC;AACA,aAAO;AAAEA,QAAAA,SAAF;AAAaT,QAAAA,YAAY,EAAE,CAAC;AAA5B,OAAP;;AACF;AACE,aAAOI,KAAP;AArBJ;AAuBD,CA9CD;;AAgDA,eAAeD,gBAAf","sourcesContent":["if (localStorage.getItem(\"employeeList\") == null)\n  localStorage.setItem(\"employeeList\", JSON.stringify([]));\nlet initialState = {\n  currentIndex: -1,\n  list: JSON.parse(localStorage.getItem(\"employeeList\")),\n};\n\nconst EmployeesReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n  var list = JSON.parse(localStorage.getItem(\"employeeList\"));\n\n  /* switch (type) {\n    case \"CREATE_EMPLOYEE\":\n      state = localStorage.setItem(\"emploeeList\", [\n        {\n          id: createRandomString(16),\n          empName: payload.empName,\n          empRole: payload.empRole,\n        },\n      ]);\n\n    case \"DELETE_EMPLOYEE\":\n      const copyState = [...state];\n      //Find id of object to remove\n      const i = copyState.findIndex((x) => x.id === payload.id);\n      copyState.splice(i, 1);\n      return [...copyState];\n    default:\n      return state;\n  } */\n  switch (type) {\n    case \"CREATE_EMPLOYEE\":\n      list.push(payload);\n      localStorage.setItem(\"employeeList\", JSON.stringify(list));\n      return { list, currentIndex: -1 };\n\n    case \"UPDATE\":\n      list[state.currentIndex] = action.payload;\n      localStorage.setItem(\"transactions\", JSON.stringify(list));\n      return { list, currentIndex: -1 };\n\n    case \"UPDATE-INDEX\":\n      return { list, currentIndex: action.payload };\n\n    case \"DELETE_EMPLOYEE\":\n      const copyState = [...list];\n      const i = copyState.findIndex((x) => x.id === payload.id);\n      copyState.splice(i, 1);\n      localStorage.setItem(\"employeeList\", JSON.stringify(copyState));\n      return { copyState, currentIndex: -1 };\n    default:\n      return state;\n  }\n};\n\nexport default EmployeesReducer;\n"]},"metadata":{},"sourceType":"module"}